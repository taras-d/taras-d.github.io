!function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,i){"use strict";var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,i){this.ctx=t,this.x=e,this.y=i}return t}();e.Component=n;var o=function(t){function e(e,i,s,n,o){var r=t.call(this,e,i,s)||this;return r.width=n,r.height=o,r}return s(e,t),e}(n);e.RectComponent=o},function(t,e,i){"use strict";var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(0);!function(t){t[t.None=0]="None",t[t.Miss=1]="Miss",t[t.Hit=2]="Hit"}(n=e.BulletStatus||(e.BulletStatus={}));var r=function(t){function e(e,i,s,o,r){var h=t.call(this,e,i,s)||this;return h.radius=o,h.options=r,h.status=n.None,h}return s(e,t),e.prototype.draw=function(){var t=this.ctx,e=this.options;t.fillStyle=e.fill,t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fill()},e}(o.Component);e.Bullet=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(4),n=i(1),o=i(6),r=i(5),h=function(){function t(t){this.options=t,this.createStats=function(){var t=this.perOfNum(2,this.width),e=this.perOfNum(95,this.height),i=this.perOfNum(2.5,this.height);this.stats=new r.Stats(this.ctx,t,e,i,this.options.stats)},this.width=t.width,this.height=t.height,this.bulletStep=.01*this.width,this.createCanvas(),this.createStats(),this.createGun()}return t.prototype.newGame=function(){this.gameOver=!1,this.bullets=[],this.bulletsLen=0,this.targets=[],this.targetsLen=0,this.closestTarget=null,this.stats.update(0,0,0),this.createTargets(),this.draw()},t.prototype.createCanvas=function(){var t=document.createElement("canvas");t.width=this.width,t.height=this.height,this.canvas=t,this.ctx=t.getContext("2d"),this.options.parent.appendChild(t)},t.prototype.createGun=function(){var t=this.stats,e=this.perOfNum(6,this.width),i=this.perOfNum(6,this.width),n=Math.round(this.width/2-e/2),o=Math.round(t.y-t.fontSize-i);this.gun=new s.Gun(this.ctx,n,o,e,i,this.options.gun)},t.prototype.createBullet=function(){var t=this.gun,e=this.bullets,i=t.x+t.width/2,s=t.y,o=this.perOfNum(1,this.width);e.push(new n.Bullet(this.ctx,i,s,o,this.options.bullet)),this.bulletsLen=e.length},t.prototype.createTargets=function(){for(var t=this.targets,e=this.targetsLen,i=this.perOfNum(1.8,this.width),s=Math.round((this.width-i)/12),n=i,r=i,h=s-i,a=s-i,u=0,l=void 0;u<e;++u)l=t[u],l.hit||(l.y=l.y+l.height+i,l.draw());for(var u=0;u<12;++u)t.push(new o.Target(this.ctx,n,r,h,a,this.options.target)),n+=h+i;this.targetsLen=t.length},t.prototype.clear=function(){this.ctx.fillStyle=this.options.bgFill,this.ctx.fillRect(0,0,this.width,this.height)},t.prototype.draw=function(){this.clear(),this.drawGun(),this.drawBullets(),this.drawTargets(),this.drawStats(),this.checkGameOver(),this.gameOver&&this.drawGameOver()},t.prototype.drawGun=function(){this.gun.draw()},t.prototype.drawBullets=function(){for(var t,e=this.bullets,i=this.bulletsLen,s=this.bulletStep,o=0;o<i;++o)t=e[o],t.status!==n.BulletStatus.Hit&&t.status!==n.BulletStatus.Miss&&(t.y+t.radius<=0?t.status=n.BulletStatus.Miss:(t.y-=s,t.draw()))},t.prototype.drawTargets=function(){for(var t,e,i,s=this.targets,o=this.targetsLen,r=this.bullets,h=this.bulletsLen,a=s[0],u=0;u<o;++u)if(t=s[u],!t.hit){i=null;for(var l=0;l<h;++l)if(e=r[l],t.hitByBullet(e)){i=e;break}i?(t.hit=!0,i.status=n.BulletStatus.Hit):(t.draw(),t.y+t.height>a.y+a.height&&(a=t))}this.closestTarget=a},t.prototype.drawStats=function(){for(var t,e=this.bullets,i=this.bulletsLen,s=this.stats,o=0,r=0,h=0;h<i;++h)t=e[h].status,t===n.BulletStatus.Hit?++o:t===n.BulletStatus.Miss&&++r;s.update(i,o,r),s.draw()},t.prototype.drawGameOver=function(){var t=this.ctx;t.save(),t.globalAlpha=.8,t.fillStyle="white",t.fillRect(0,0,this.width,this.height);var e=.1*this.width;t.globalAlpha=1,t.fillStyle="black",t.textAlign="center",t.textBaseline="bottom",t.font=e+"px sans-serif",t.fillText("Game Over",this.width/2,this.height/2),e/=3,t.textBaseline="top",t.font=e+"px sans-serif",t.fillText(this.stats.text,this.width/2,this.height/2),t.restore()},t.prototype.checkGameOver=function(){var t=this.closestTarget;this.gameOver=t&&t.y+t.height>=this.gun.y},t.prototype.destroy=function(){this.options.parent.removeChild(this.canvas)},t.prototype.perOfNum=function(t,e){return Math.floor(t*e/100)},t}();e.Playground=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),n=function(){function t(t){var e=new s.Playground(t);this.playground=e,this.canvas=e.canvas,this.canvasRect=e.canvas.getBoundingClientRect(),this.bindMethods(),this.newGame()}return t.prototype.bindMethods=function(){this.onMouseMove=this.onMouseMove.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onFrameUpdate=this.onFrameUpdate.bind(this),this.onNewTargets=this.onNewTargets.bind(this),this.onBulletsQueue=this.onBulletsQueue.bind(this)},t.prototype.newGame=function(){this.playground.newGame(),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("mousedown",this.onMouseDown),this.canvas.addEventListener("mouseup",this.onMouseUp),this.framePerSecond=50,this.frameId=setInterval(this.onFrameUpdate,1e3/this.framePerSecond),this.newTargetsMs=2e3,this.newTargetsId=setInterval(this.onNewTargets,this.newTargetsMs),this.bulletsQueueMs=150},t.prototype.stopGame=function(){this.canvas.removeEventListener("mousemove",this.onMouseMove),this.canvas.removeEventListener("mousedown",this.onMouseDown),this.canvas.removeEventListener("mouseup",this.onMouseUp),clearInterval(this.frameId),clearInterval(this.newTargetsId),clearInterval(this.bulletsQueueId)},t.prototype.onFrameUpdate=function(){this.playground.draw(),this.playground.gameOver&&this.stopGame()},t.prototype.onNewTargets=function(){this.playground.createTargets()},t.prototype.onBulletsQueue=function(){this.playground.createBullet()},t.prototype.onMouseMove=function(t){var e=this.playground.gun;e.moveTo(Math.round(t.clientX-this.canvasRect.left-e.width/2)),e.draw()},t.prototype.onMouseDown=function(t){this.playground.createBullet(),clearInterval(this.bulletsQueueId),this.bulletsQueueId=setInterval(this.onBulletsQueue,this.bulletsQueueMs)},t.prototype.onMouseUp=function(t){clearInterval(this.bulletsQueueId)},t.prototype.destroy=function(){this.stopGame(),this.playground.destroy()},t}();e.Game=n,window.ShootingRange=n},function(t,e,i){"use strict";var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t){function e(e,i,s,n,o,r){var h=t.call(this,e,i,s,n,o)||this;return h.options=r,h}return s(e,t),e.prototype.moveTo=function(t){var e=this.ctx,i=e.canvas.width-this.width;t<0?t=0:t>i&&(t=i),this.x=t},e.prototype.draw=function(){var t=this.options,e=this.ctx;e.fillStyle=t.fill,e.fillRect(this.x,this.y,this.width,this.height)},e}(n.RectComponent);e.Gun=o},function(t,e,i){"use strict";var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(t){function e(e,i,s,n,o){var r=t.call(this,e,i,s)||this;return r.fontSize=n,r.options=o,r.update(0,0,0),r}return s(e,t),e.prototype.update=function(t,e,i){this.text="Shoots: "+t+" / Hits: "+e+" / Miss: "+i},e.prototype.draw=function(){var t=this.ctx,e=this.options;t.font=this.fontSize+"px "+e.fontFamily,t.fillStyle=e.fill,t.textBaseline="top",t.fillText(this.text,this.x,this.y)},e}(n.Component);e.Stats=o},function(t,e,i){"use strict";var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function s(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(1),r=function(){function t(){}return t}();e.TargetOptions=r;var h=function(t){function e(e,i,s,n,o,r){var h=t.call(this,e,i,s,n,o)||this;return h.options=r,h.hit=!1,h}return s(e,t),e.prototype.draw=function(){var t=this.ctx,e=this.options;t.fillStyle=e.fill,t.fillRect(this.x,this.y,this.width,this.height)},e.prototype.hitByBullet=function(t){var e=this.x,i=this.x+this.width,s=this.y+this.height,n=t.x-t.radius,r=t.x+t.radius,h=t.y;return t.status===o.BulletStatus.None&&h<=s&&(n>=e&&n<=i||r>=e&&r<=i)},e}(n.RectComponent);e.Target=h}]);